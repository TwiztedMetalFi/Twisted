<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no">
  <meta name="theme-color" content="#000000">
  <meta name="description" content="Trade Solana tokens with a sleek interface at Twisted Exchange, powered by Jupiter and SlerfTools.">
  <meta name="keywords" content="Solana, Jupiter, Trading, SlerfTools, Twisted Exchange">
  <meta property="og:title" content="Twisted Exchange">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://twiztedmetalfi.github.io/twisted-exchange/">
  <meta property="og:description" content="Trade Solana tokens with a sleek interface at Twisted Exchange, powered by Jupiter and SlerfTools.">
  <meta property="og:image" content="https://slerf.tools/img/preview/banner.png">
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:site" content="@SlerfTools">
  <meta property="twitter:title" content="Twisted Exchange">
  <meta property="twitter:description" content="Trade Solana tokens with a sleek interface at Twisted Exchange, powered by Jupiter and SlerfTools.">
  <meta property="twitter:image" content="https://slerf.tools/img/preview/banner.png">
  <title>Twisted Exchange</title>
  <!-- Preload Jupiter Terminal script -->
  <script src="https://terminal.jup.ag/main-v2.js" data-preload></script>
  <!-- TradingView Widget Script -->
  <script src="https://s3.tradingview.com/tv.js"></script>
  <style>
    :root {
      --bg-color: #f5f5f5;
      --text-color: #333;
      --card-bg: #ffffff;
      --accent-color: #1a73e8;
      --shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }
    [data-theme="dark"] {
      --bg-color: #101217;
      --text-color: #ffffff;
      --card-bg: #1c2526;
      --accent-color: #4a90e2;
      --shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
    }
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Arial', 'PingFang SC', sans-serif;
      background-color: var(--bg-color);
      color: var(--text-color);
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      transition: all 0.3s ease;
    }
    header {
      text-align: center;
      padding: 20px;
      background-color: var(--card-bg);
      width: 100%;
      box-shadow: var(--shadow);
    }
    h1 {
      font-size: 2.5em;
      color: var(--accent-color);
      margin-bottom: 10px;
    }
    .container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      padding: 20px;
      max-width: 1200px;
      width: 100%;
    }
    .terminal, .chart {
      flex: 1;
      min-width: 300px;
      max-width: 600px;
      background-color: var(--card-bg);
      border-radius: 8px;
      box-shadow: var(--shadow);
      padding: 10px;
      transition: all 0.3s ease;
    }
    .terminal {
      height: 500px;
    }
    .chart {
      height: 500px;
    }
    .market-making, .slerf-link {
      margin: 20px 0;
      text-align: center;
      max-width: 800px;
    }
    .market-making h2 {
      font-size: 1.8em;
      color: var(--accent-color);
      margin-bottom: 10px;
    }
    .market-making p {
      margin-bottom: 15px;
    }
    .market-making a, .slerf-link a {
      color: var(--accent-color);
      text-decoration: none;
      font-weight: bold;
      transition: color 0.3s ease;
    }
    .market-making a:hover, .slerf-link a:hover {
      text-decoration: underline;
    }
    footer {
      text-align: center;
      padding: 10px;
      background-color: var(--card-bg);
      width: 100%;
      box-shadow: var(--shadow);
    }
    .theme-toggle {
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--accent-color);
      color: #fff;
      border: none;
      padding: 10px;
      border-radius: 5px;
      cursor: pointer;
      transition: background 0.3s ease;
      z-index: 10000;
    }
    .theme-toggle:hover {
      background: #1557b0;
    }
    /* Loading Animation (Inspired by SlerfTools) */
    #pre-loading {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: var(--bg-color);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      transition: opacity 0.5s ease;
    }
    #pre-loading.hidden {
      opacity: 0;
      pointer-events: none;
    }
    .gear {
      width: 100px;
      height: 100px;
      animation: gear-rotate 5s linear infinite;
      border-radius: 50%;
      background: radial-gradient(circle, transparent 40%, var(--accent-color) 45%);
      position: relative;
    }
    @keyframes gear-rotate {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    .cloud {
      position: absolute;
      width: 120px;
      height: 60px;
      background: #fff;
      border-radius: 100px;
      opacity: 0.8;
      animation: cloud-move 12s linear infinite;
    }
    .cloud-small {
      width: 60px;
      height: 30px;
      animation: cloud-move 8s linear infinite;
      animation-delay: 4s;
    }
    @keyframes cloud-move {
      0% { left: 100%; opacity: 0; }
      10% { left: 80%; opacity: 1; }
      90% { left: 0; opacity: 1; }
      100% { left: -10%; opacity: 0; }
    }
    #pre-loading p {
      font-size: 14px;
      color: var(--text-color);
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <!-- Loading Animation -->
  <div id="pre-loading">
    <div class="gear"></div>
    <div class="cloud"></div>
    <div class="cloud cloud-small"></div>
    <p>Loading Twisted Exchange...</p>
  </div>
  <header>
    <h1>Twisted Exchange</h1>
    <p>Trade Solana tokens with Jupiter Terminal</p>
    <button class="theme-toggle" onclick="toggleTheme()">Toggle Theme</button>
  </header>
  <div class="container">
    <!-- Jupiter Terminal Container -->
    <div class="terminal" id="jupiter-terminal"></div>
    <!-- TradingView Chart Container -->
    <div class="chart" id="tradingview-chart"></div>
  </div>
  <div class="market-making">
    <h2>Enhance Liquidity with Market Making</h2>
    <p>Boost your Solana tokenâ€™s trading performance with advanced market-making tools provided by SlerfTools. Create liquidity pools or automate trading strategies seamlessly.</p>
    <p><a href="https://slerf.tools/en-us/market-making/solana?ref=DkiqsTrw1u1bYFumumC7sCG2S8K25qc2vemJFHyW2wJc" target="_blank">Explore Market Making</a></p>
  </div>
  <div class="slerf-link">
    <p>Discover more Solana tools at <a href="https://slerf.tools/en-us?ref=DkiqsTrw1u1bYFumumC7sCG2S8K25qc2vemJFHyW2wJc" target="_blank">SlerfTools</a></p>
  </div>
  <footer>
    <p>Powered by <a href="https://jup.ag" target="_blank">Jupiter</a> and <a href="https://slerf.tools/en-us?ref=DkiqsTrw1u1bYFumumC7sCG2S8K25qc2vemJFHyW2wJc" target="_blank">SlerfTools</a> | <a href="https://twiztedmetalfi.github.io/twisted-exchange-docs">Documentation</a></p>
  </footer>

  <!-- Initialize Jupiter Terminal -->
  <script>
    window.addEventListener('DOMContentLoaded', () => {
      window.Jupiter.init({
        containerId: 'jupiter-terminal',
        endpoint: 'https://api.mainnet-beta.solana.com',
        defaultExplorer: 'Solscan',
        strictTokenList: false,
        enableWalletPassthrough: false,
        platformFeeAndAccounts: {
          feeBps: 20, // 0.2% platform fee
          feeAccounts: {
            'SOL': 'DkiqsTrw1u1bYFumumC7sCG2S8K25qc2vemJFHyW2wJc'
          }
        },
        onSuccess: ({ txid }) => {
          console.log('Swap successful:', txid);
        },
        onSwapError: ({ error }) => {
          console.log('Swap error:', error);
        }
      });
      // Hide loading animation after 3 seconds
      setTimeout(() => {
        document.getElementById('pre-loading').classList.add('hidden');
      }, 3000);
    });
  </script>

  <!-- Initialize TradingView Chart -->
  <script>
    function renderTradingView(theme) {
      // Remove previous widget
      const chartDiv = document.getElementById('tradingview-chart');
      chartDiv.innerHTML = '';
      new TradingView.widget({
        "container_id": "tradingview-chart",
        "width": "100%",
        "height": "100%",
        "symbol": "BINANCE:SOLUSDT",
        "interval": "D",
        "timezone": "Etc/UTC",
        "theme": theme,
        "style": "1",
        "locale": "en",
        "toolbar_bg": theme === "dark" ? "#2a2e39" : "#f1f3f6",
        "enable_publishing": false,
        "allow_symbol_change": true,
        "studies": [
          "MACD@tv-basicstudies",
          "RSI@tv-basicstudies"
        ]
      });
    }
    // Render on load
    window.addEventListener('DOMContentLoaded', () => {
      const html = document.documentElement;
      renderTradingView(html.getAttribute('data-theme') === 'dark' ? 'dark' : 'light');
    });
  </script>

  <!-- Theme Toggle Script -->
  <script>
    function toggleTheme() {
      const html = document.documentElement;
      const currentTheme = html.getAttribute('data-theme');
      const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
      html.setAttribute('data-theme', newTheme);
      // Re-render TradingView with new theme
      renderTradingView(newTheme);
    }
    // Set initial theme if not set
    window.addEventListener('DOMContentLoaded', () => {
      const html = document.documentElement;
      if (!html.hasAttribute('data-theme')) {
        html.setAttribute('data-theme', 'light');
      }
    });
  </script>
</body>
</html>